{"ast":null,"code":"var _jsxFileName = \"/Users/milesfelton/Documents/GitHub/React-mysql-CRUD-event-app/client-side/src/components/admin-page/Back.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport { FiSave } from 'react-icons/fi';\nimport { FaRegTrashAlt } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Back = ({\n  val,\n  workshopList,\n  setWorkshopList,\n  saveButton\n}) => {\n  _s();\n\n  console.log(workshopList);\n  const [title, setTitle] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [location, setLocation] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [newPrice, setNewPrice] = useState(0);\n  const [newLocation, setNewLocation] = useState(\"\");\n  const [newImage, setNewImage] = useState(\"\");\n  const [newDate, setNewDate] = useState(\"\");\n\n  const ifNotChanged = (newThing, original) => {\n    if (newThing === \"\") {\n      return val.date;\n    } else {\n      return newThing;\n    }\n  };\n\n  const updateTitle = id => {\n    Axios.put('http://localhost:3001/update', {\n      title: newTitle,\n      id: id,\n      location: newLocation,\n      date: newDate,\n      image: newImage,\n      price: newPrice\n    }).then(response => {\n      setWorkshopList(workshopList.map(val => {\n        return val.id === id ? {\n          id: val.id,\n          title: newTitle,\n          location: newLocation,\n          date: ifNotChanged(newDate, val.id),\n          image: newImage,\n          price: newPrice\n        } : val;\n      }));\n    });\n    saveButton();\n  };\n\n  const deleteWorkshop = id => {\n    Axios.delete(`http://localhost:3001/delete/${id}`).then(response => {\n      setWorkshopList(workshopList.filter(val => {\n        return val.id !== id;\n      }));\n    });\n  };\n\n  const addImage = name => {\n    const pic = name;\n    return `img/${pic}.jpg`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"backCard\",\n    id: val.id,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: addImage(val.image),\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Workshop\",\n      onChange: event => {\n        setNewTitle(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"location\",\n      placeholder: \"Location\",\n      onChange: event => {\n        setNewLocation(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"date\",\n      placeholder: \"Dates\",\n      onChange: event => {\n        setNewDate(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"price\",\n      placeholder: \"Price\",\n      onChange: event => {\n        setNewPrice(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Select Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editImage\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Angmardana\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        value: \"angamardana\",\n        onChange: event => {\n          setNewImage(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Yogasanas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        value: \"yogasanas\",\n        onChange: event => {\n          setNewImage(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editDeleteIconsBack\",\n      children: [/*#__PURE__*/_jsxDEV(FiSave, {\n        onClick: () => {\n          updateTitle(val.id);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(FaRegTrashAlt, {\n        onClick: () => {\n          deleteWorkshop(val.id);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Back, \"y1wg/RqkwMEssAW5P5PMCRjDF+8=\");\n\n_c = Back;\nexport default Back;\n\nvar _c;\n\n$RefreshReg$(_c, \"Back\");","map":{"version":3,"sources":["/Users/milesfelton/Documents/GitHub/React-mysql-CRUD-event-app/client-side/src/components/admin-page/Back.js"],"names":["React","useEffect","useState","Axios","FiSave","FaRegTrashAlt","Back","val","workshopList","setWorkshopList","saveButton","console","log","title","setTitle","price","setPrice","location","setLocation","image","setImage","date","setDate","newTitle","setNewTitle","newPrice","setNewPrice","newLocation","setNewLocation","newImage","setNewImage","newDate","setNewDate","ifNotChanged","newThing","original","updateTitle","id","put","then","response","map","deleteWorkshop","delete","filter","addImage","name","pic","event","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,aAAT,QAA8B,gBAA9B;;;AAGA,MAAMC,IAAI,GAAG,CAAC;AAACC,EAAAA,GAAD;AAAMC,EAAAA,YAAN;AAAoBC,EAAAA,eAApB;AAAqCC,EAAAA;AAArC,CAAD,KAAsD;AAAA;;AAEjEC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AAEE,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACmB,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC,EAAD,CAAhC;AAGA,QAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAACyB,WAAD,EAAcC,cAAd,IAAgC1B,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC2B,QAAD,EAAWC,WAAX,IAA0B5B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC6B,OAAD,EAAUC,UAAV,IAAwB9B,QAAQ,CAAC,EAAD,CAAtC;;AAGA,QAAM+B,YAAY,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC3C,QAAID,QAAQ,KAAK,EAAjB,EAAoB;AAClB,aAAO3B,GAAG,CAACc,IAAX;AACD,KAFD,MAEO;AACL,aAAOa,QAAP;AACD;AACF,GAND;;AAQA,QAAME,WAAW,GAAIC,EAAD,IAAQ;AAC1BlC,IAAAA,KAAK,CAACmC,GAAN,CAAU,8BAAV,EAA0C;AAACzB,MAAAA,KAAK,EAAEU,QAAR;AAAkBc,MAAAA,EAAE,EAAEA,EAAtB;AAA0BpB,MAAAA,QAAQ,EAAEU,WAApC;AAAiDN,MAAAA,IAAI,EAAEU,OAAvD;AAAgEZ,MAAAA,KAAK,EAAEU,QAAvE;AAAiFd,MAAAA,KAAK,EAAEU;AAAxF,KAA1C,EAA6Ic,IAA7I,CACCC,QAAD,IAAc;AACZ/B,MAAAA,eAAe,CACbD,YAAY,CAACiC,GAAb,CAAkBlC,GAAD,IAAS;AACxB,eAAOA,GAAG,CAAC8B,EAAJ,KAAWA,EAAX,GAAgB;AACnBA,UAAAA,EAAE,EAAE9B,GAAG,CAAC8B,EADW;AAEnBxB,UAAAA,KAAK,EAAEU,QAFY;AAGnBN,UAAAA,QAAQ,EAAEU,WAHS;AAInBN,UAAAA,IAAI,EAAEY,YAAY,CAACF,OAAD,EAAUxB,GAAG,CAAC8B,EAAd,CAJC;AAKnBlB,UAAAA,KAAK,EAAEU,QALY;AAMnBd,UAAAA,KAAK,EAAEU;AANY,SAAhB,GAQHlB,GARJ;AASD,OAVD,CADa,CAAf;AAaD,KAfD;AAgBAG,IAAAA,UAAU;AACb,GAlBC;;AAoBJ,QAAMgC,cAAc,GAAIL,EAAD,IAAQ;AAC7BlC,IAAAA,KAAK,CAACwC,MAAN,CAAc,gCAA+BN,EAAG,EAAhD,EAAmDE,IAAnD,CAAyDC,QAAD,IAAc;AACpE/B,MAAAA,eAAe,CAACD,YAAY,CAACoC,MAAb,CAAqBrC,GAAD,IAAS;AAC3C,eAAOA,GAAG,CAAC8B,EAAJ,KAAWA,EAAlB;AACD,OAFe,CAAD,CAAf;AAGD,KAJD;AAKD,GAND;;AAQE,QAAMQ,QAAQ,GAAIC,IAAD,IAAU;AACzB,UAAMC,GAAG,GAAGD,IAAZ;AACA,WAAQ,OAAMC,GAAI,MAAlB;AACD,GAHD;;AAKE,sBAEI;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,EAAE,EAAExC,GAAG,CAAC8B,EAAlC;AAAA,4BAEI;AAAK,MAAA,GAAG,EAAEQ,QAAQ,CAACtC,GAAG,CAACY,KAAL,CAAlB;AAA+B,MAAA,GAAG,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,UAA/B;AAA0C,MAAA,QAAQ,EAAG6B,KAAD,IAAW;AAC3DxB,QAAAA,WAAW,CAACwB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AAAgC;AADpC;AAAA;AAAA;AAAA;AAAA,YAHJ,eAKI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,UAA7B;AAAwC,MAAA,WAAW,EAAC,UAApD;AAA+D,MAAA,QAAQ,EAAGF,KAAD,IAAW;AAChFpB,QAAAA,cAAc,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd;AAAmC;AADvC;AAAA;AAAA;AAAA;AAAA,YALJ,eAOI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,MAA7B;AAAoC,MAAA,WAAW,EAAC,OAAhD;AAAwD,MAAA,QAAQ,EAAGF,KAAD,IAAW;AACzEhB,QAAAA,UAAU,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV;AAA+B;AADnC;AAAA;AAAA;AAAA;AAAA,YAPJ,eASI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,OAA7B;AAAqC,MAAA,WAAW,EAAC,OAAjD;AAAyD,MAAA,QAAQ,EAAGF,KAAD,IAAW;AAC5EtB,QAAAA,WAAW,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACC;AAFH;AAAA;AAAA;AAAA;AAAA,YATJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ,eAcI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,KAAK,EAAC,aAA1B;AAAwC,QAAA,QAAQ,EAAGF,KAAD,IAAW;AACzDlB,UAAAA,WAAW,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AAAgC;AADpC;AAAA;AAAA;AAAA;AAAA,cAFA,eAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJA,eAKA;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,KAAK,EAAC,WAA1B;AAAsC,QAAA,QAAQ,EAAGF,KAAD,IAAW;AACvDlB,UAAAA,WAAW,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AAAgC;AADpC;AAAA;AAAA;AAAA;AAAA,cALA;AAAA;AAAA;AAAA;AAAA;AAAA,YAdJ,eAuBE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA,8BAEE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,MAAM;AAACd,UAAAA,WAAW,CAAC7B,GAAG,CAAC8B,EAAL,CAAX;AAAoB;AAA5C;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,aAAD;AAAe,QAAA,OAAO,EAAE,MAAM;AAACK,UAAAA,cAAc,CAACnC,GAAG,CAAC8B,EAAL,CAAd;AAAuB;AAAtD;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAiCF,CA5FF;;GAAM/B,I;;KAAAA,I;AA8FN,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Axios from 'axios'\nimport { FiSave } from 'react-icons/fi';\nimport { FaRegTrashAlt } from 'react-icons/fa';\n\n\nconst Back = ({val, workshopList, setWorkshopList, saveButton}) => {\n\n  console.log(workshopList)\n\n    const [title, setTitle] = useState(\"\");\n    const [price, setPrice] = useState(0);\n    const [location, setLocation] = useState(\"\");\n    const [image, setImage] = useState(\"\")\n    const [date, setDate] = useState(\"\")\n\n\n    const [newTitle, setNewTitle] = useState(\"\")\n    const [newPrice, setNewPrice] = useState(0);\n    const [newLocation, setNewLocation] = useState(\"\");\n    const [newImage, setNewImage] = useState(\"\")\n    const [newDate, setNewDate] = useState(\"\")\n\n\n    const ifNotChanged = (newThing, original) => {\n      if (newThing === \"\"){\n        return val.date\n      } else {\n        return newThing\n      }\n    }\n\n    const updateTitle = (id) => {\n      Axios.put('http://localhost:3001/update', {title: newTitle, id: id, location: newLocation, date: newDate, image: newImage, price: newPrice}).then(\n      (response) => {\n        setWorkshopList(\n          workshopList.map((val) => {\n            return val.id === id ? {\n                id: val.id,\n                title: newTitle,\n                location: newLocation,\n                date: ifNotChanged(newDate, val.id),\n                image: newImage,\n                price: newPrice\n              }\n              : val\n          })\n        )\n      })\n      saveButton()\n  }\n\nconst deleteWorkshop = (id) => {\n  Axios.delete(`http://localhost:3001/delete/${id}`).then((response) => {\n    setWorkshopList(workshopList.filter((val) => {\n      return val.id !== id\n    }))\n  })\n}\n\n  const addImage = (name) => {\n    const pic = name\n    return `img/${pic}.jpg`\n  }\n\n    return (\n        \n        <div className=\"backCard\" id={val.id}>\n          \n            <img src={addImage(val.image)} alt=\"\"></img>\n            <input type=\"text\" placeholder=\"Workshop\" onChange={(event) => {\n                setNewTitle(event.target.value)}}/>\n            <input type=\"text\" className=\"location\" placeholder=\"Location\" onChange={(event) => {\n                setNewLocation(event.target.value)}}/>\n            <input type=\"text\" className=\"date\" placeholder=\"Dates\" onChange={(event) => {\n                setNewDate(event.target.value)}}/>\n            <input type=\"text\" className=\"price\" placeholder=\"Price\" onChange={(event) => {\n              setNewPrice(event.target.value)\n              }}/>\n\n            <p>Select Image</p>\n            <div className=\"editImage\">\n            <label>Angmardana</label>\n            <input type=\"radio\" value=\"angamardana\" onChange={(event) => {\n                setNewImage(event.target.value)}}/>\n            <label>Yogasanas</label>\n            <input type=\"radio\" value=\"yogasanas\" onChange={(event) => {\n                setNewImage(event.target.value)}}/>\n            </div>\n            \n          <div className=\"editDeleteIconsBack\">\n\n            <FiSave onClick={() => {updateTitle(val.id)}}/>\n            <FaRegTrashAlt onClick={() => {deleteWorkshop(val.id)}}/>\n\n          </div>\n\n        </div>      \n)};\n\nexport default Back;\n\n"]},"metadata":{},"sourceType":"module"}